{
  "hash": "016aafce4a052c6ee973926390c22a5e",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Importando/Exportando dados\"\ndescription: \"Técnicas de importação e exportação de dados com o pacote ```readr``` do Tidyverse, para diversos formatos de arquivo.\"\ncategories: [\n          \"Ciência de dados\",\n          \"R\",\n          \"Tidyverse\",\n          \"Importação e exportação de dados\"\n        ]\nimage: \"images/import-export.jpg\"\nexecute:\n  echo: true\n  warning: false\n  include: true\n  message: false\n---\n\n\n\n\nO pacote responsável pela importação de dados no ```tidyverse``` é o ```readr```. Este pacote permite importar arquivos de texto nos formatos ```.csv``` ou ```.txt```.\n\nExistem diversas funções no pacote ```readr```(veja [aqui](https://readr.tidyverse.org/index.html)). A função ```read_csv()``` importa arquivos texto em que as colunas são separadas por *vírgulas*. A função ```read_tsv()``` importa arquivos texto em que as colunas são separadas por *tabulações*. \n\n## Importando dados de arquivos texto\n\nA função ```read_delim()``` oferece mais controle sobre o tipo de delimitador de colunas (*vírgulas*, *tabulações*, *ponto-e-vírgula*, entre outros) ou o identificador decimal (*vírgulas* ou *ponto*).\n\nCarrege o pacote ```readr``` e importe o arquivo ```Reservatorios_Parana_parcial.csv``` disponível no repositório [datasets](https://github.com/FCopf/datasets) do <i class=\"bi bi-github\"></i>. É possível importar o arquivo diretamente do repositório:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(readr)\nres = read_delim(file = \"https://raw.githubusercontent.com/FCopf/datasets/refs/heads/main/Reservatorios_Parana_parcial.csv\",\n                  delim = ',',\n                  locale = locale(decimal_mark = '.',\n                                  encoding = 'latin1'))\n```\n:::\n\n\n\n\n\n::: {.callout-note}\nSe optar por fazer o download do arquivo, basta acessar pelo link ([Reservatorios_Parana_parcial.csv](https://raw.githubusercontent.com/FCopf/datasets/refs/heads/main/Reservatorios_Parana_parcial.csv)), salvá-lo em seu diretório de trabalho e importar com o comando:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nres = read_delim(file = \"Reservatorios_Parana_parcial.csv.csv\", delim = \",\")\n```\n:::\n\n\n\n\n:::\n\nVerifique o objeto importado.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nres\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 31 × 11\n   Reservatorio Bacia  Fechamento   Area Trofia    pH Condutividade Alcalinidade\n   <chr>        <chr>       <dbl>  <dbl> <chr>  <dbl>         <dbl>        <dbl>\n 1 Cavernoso    Iguacu       1965   2.9  Oligo…   7.4          33.1        140. \n 2 Curucaca     Iguacu       1982   2    Oligo…   7            32.4        126. \n 3 Foz do Areia Iguacu       1980 139    Oligo…   7.3          35.5         97  \n 4 Irai         Iguacu       2000  15    EutrÃ…   6.9          50.2          3.3\n 5 JMF          Iguacu       1970   0.45 Mesot…   7.3          40.2          3.7\n 6 Jordao       Iguacu       1996   3.4  Oligo…   7.1          23.7        153. \n 7 Passauna     Iguacu       1978  14    Oligo…   8.8         126.         526  \n 8 Piraquara    Iguacu       1979   3.3  Oligo…   7.1          22.8         50.7\n 9 Salto Caxias Iguacu       1998 124    Oligo…   7.3          39.6        106  \n10 Salto do Vau Iguacu       1959   2.9  Oligo…   6.5          23.2        279  \n# ℹ 21 more rows\n# ℹ 3 more variables: P.total <dbl>, Riqueza <dbl>, CPUE <dbl>\n```\n\n\n:::\n:::\n\n\n\n\nO objeto é do tipo ```tibble``` com 31 linhas por 11 colunas. Uma [tibble](https://tibble.tidyverse.org/) é uma versão moderna do data.frame que preserva aspectos eficazes para manipulação, visualização e transformação de dados.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nclass(res)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"spec_tbl_df\" \"tbl_df\"      \"tbl\"         \"data.frame\" \n```\n\n\n:::\n:::\n\n\n\n\n## Exportando um data frame\n\nA função para exportar data frames no pacote ```readr``` é ```write_delim()``` e outras funções análogas. Para exportar uma parte do data frame utiliza-se o comando:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwrite_delim(res[1:10, 3:5],\n            file = \"Reservatorios_Parana_parcial.csv\", \n            delim = ',')\n```\n:::\n\n::: {.cell}\n\n:::",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}