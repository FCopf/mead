{
  "hash": "027d157d136c8960b683ceb53eaa6be6",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"Medidas de Associação e Relacionamentos entre Variáveis com Python\"\ndescription: \"Análise de associações entre variáveis usando Python com Pandas, Matplotlib e Seaborn, incluindo tabelas de contingência, correlação e visualizações.\"\n\nimage: \"images/medidas-associacao-python.png\"\nexecute:\n  echo: true\n  warning: false\n  include: true\n  message: false\n---\n\n\n\n\nNeste tutorial, exploraremos como analisar padrões de associação entre diferentes tipos de variáveis em Python, utilizando o dataset de [pinguins de Palmer](https://allisonhorst.github.io/palmerpenguins/index.html){target=\"_blank\"}.\n\n::: {.callout-tip title=\"Código em Python\"}\n\nAcompanha este tutorial o [Medidas de associação em Python](04-medidas-associacao-python.py){target=\"_blank\"}\n\n:::\n\n\n## Pacotes necessários\n\n::: {#8bb1093f .cell execution_count=1}\n``` {.python .cell-code}\nimport pandas as pd\nimport matplotlib.pyplot as plt\nfrom palmerpenguins import load_penguins\nimport seaborn as sns\nimport numpy as np\n```\n:::\n\n\n## Carregando e preparando os dados\n\n::: {#5a613834 .cell execution_count=2}\n``` {.python .cell-code}\npenguins = load_penguins().dropna()\npenguins.shape\n```\n\n::: {.cell-output .cell-output-display execution_count=2}\n```\n(333, 8)\n```\n:::\n:::\n\n\n::: {#168c1fbc .cell execution_count=3}\n``` {.python .cell-code}\n# Visualizando as primeiras linhas\npenguins.head()\n```\n\n::: {.cell-output .cell-output-display execution_count=3}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>species</th>\n      <th>island</th>\n      <th>bill_length_mm</th>\n      <th>bill_depth_mm</th>\n      <th>flipper_length_mm</th>\n      <th>body_mass_g</th>\n      <th>sex</th>\n      <th>year</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Adelie</td>\n      <td>Torgersen</td>\n      <td>39.1</td>\n      <td>18.7</td>\n      <td>181.0</td>\n      <td>3750.0</td>\n      <td>male</td>\n      <td>2007</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Adelie</td>\n      <td>Torgersen</td>\n      <td>39.5</td>\n      <td>17.4</td>\n      <td>186.0</td>\n      <td>3800.0</td>\n      <td>female</td>\n      <td>2007</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Adelie</td>\n      <td>Torgersen</td>\n      <td>40.3</td>\n      <td>18.0</td>\n      <td>195.0</td>\n      <td>3250.0</td>\n      <td>female</td>\n      <td>2007</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Adelie</td>\n      <td>Torgersen</td>\n      <td>36.7</td>\n      <td>19.3</td>\n      <td>193.0</td>\n      <td>3450.0</td>\n      <td>female</td>\n      <td>2007</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>Adelie</td>\n      <td>Torgersen</td>\n      <td>39.3</td>\n      <td>20.6</td>\n      <td>190.0</td>\n      <td>3650.0</td>\n      <td>male</td>\n      <td>2007</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n## Associação entre Duas Variáveis Qualitativas (Categóricas)\n\nQuando queremos analisar a relação entre duas variáveis categóricas, utilizamos **tabelas de contingência**.\n\n### Exemplo: Associação entre Espécie e Ilha\n\n::: {#445a90b1 .cell execution_count=4}\n``` {.python .cell-code}\n# Tabela de contingência (frequências observadas)\ncontingency_table = pd.crosstab(penguins['species'], \n                                penguins['island'])\ncontingency_table\n```\n\n::: {.cell-output .cell-output-display execution_count=4}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th>island</th>\n      <th>Biscoe</th>\n      <th>Dream</th>\n      <th>Torgersen</th>\n    </tr>\n    <tr>\n      <th>species</th>\n      <th></th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>Adelie</th>\n      <td>44</td>\n      <td>55</td>\n      <td>47</td>\n    </tr>\n    <tr>\n      <th>Chinstrap</th>\n      <td>0</td>\n      <td>68</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>Gentoo</th>\n      <td>119</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n### Frequências Relativas\n\n::: {#6cbe826e .cell execution_count=5}\n``` {.python .cell-code}\n# Frequências relativas por linha (marginais)\ntotal_row = contingency_table.sum(axis=1)\nrelative_row = contingency_table.div(total_row, axis=0)\nprint(\"Frequências relativas por linha (espécie):\")\nrelative_row\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nFrequências relativas por linha (espécie):\n```\n:::\n\n::: {.cell-output .cell-output-display execution_count=5}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th>island</th>\n      <th>Biscoe</th>\n      <th>Dream</th>\n      <th>Torgersen</th>\n    </tr>\n    <tr>\n      <th>species</th>\n      <th></th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>Adelie</th>\n      <td>0.30137</td>\n      <td>0.376712</td>\n      <td>0.321918</td>\n    </tr>\n    <tr>\n      <th>Chinstrap</th>\n      <td>0.00000</td>\n      <td>1.000000</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>Gentoo</th>\n      <td>1.00000</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: {#df285cc4 .cell execution_count=6}\n``` {.python .cell-code}\n# Frequências relativas por coluna (marginais)\ntotal_col = contingency_table.sum(axis=0)\nrelative_col = contingency_table.div(total_col, axis=1)\nprint(\"Frequências relativas por coluna (ilha):\")\nrelative_col\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nFrequências relativas por coluna (ilha):\n```\n:::\n\n::: {.cell-output .cell-output-display execution_count=6}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th>island</th>\n      <th>Biscoe</th>\n      <th>Dream</th>\n      <th>Torgersen</th>\n    </tr>\n    <tr>\n      <th>species</th>\n      <th></th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>Adelie</th>\n      <td>0.269939</td>\n      <td>0.447154</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>Chinstrap</th>\n      <td>0.000000</td>\n      <td>0.552846</td>\n      <td>0.0</td>\n    </tr>\n    <tr>\n      <th>Gentoo</th>\n      <td>0.730061</td>\n      <td>0.000000</td>\n      <td>0.0</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: {#13f78447 .cell execution_count=7}\n``` {.python .cell-code}\n# Frequências relativas conjuntas\nrelative_joint = contingency_table / contingency_table.sum().sum()\nprint(\"Frequências relativas conjuntas:\")\nrelative_joint\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nFrequências relativas conjuntas:\n```\n:::\n\n::: {.cell-output .cell-output-display execution_count=7}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th>island</th>\n      <th>Biscoe</th>\n      <th>Dream</th>\n      <th>Torgersen</th>\n    </tr>\n    <tr>\n      <th>species</th>\n      <th></th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>Adelie</th>\n      <td>0.132132</td>\n      <td>0.165165</td>\n      <td>0.141141</td>\n    </tr>\n    <tr>\n      <th>Chinstrap</th>\n      <td>0.000000</td>\n      <td>0.204204</td>\n      <td>0.000000</td>\n    </tr>\n    <tr>\n      <th>Gentoo</th>\n      <td>0.357357</td>\n      <td>0.000000</td>\n      <td>0.000000</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n### Visualização: Gráfico de Barras Agrupadas\n\n::: {#a3589bac .cell execution_count=8}\n``` {.python .cell-code}\ncontingency_table.plot(kind='bar', stacked=False, figsize=(8, 6))\nplt.title(\"Associação entre Espécie e Ilha\")\nplt.xlabel(\"Espécie\")\nplt.ylabel(\"Frequência\")\nplt.legend(title=\"Ilha\")\nplt.xticks(rotation=45)\nplt.tight_layout()\nplt.show()\nplt.close('all')\n```\n\n::: {.cell-output .cell-output-display}\n![](04-medidas-associacao-python_files/figure-html/cell-9-output-1.png){width=759 height=567}\n:::\n:::\n\n\n::: {#3e663299 .cell execution_count=9}\n``` {.python .cell-code}\n# Gráfico alternativo com Seaborn\nplt.figure(figsize=(8, 6))\nsns.countplot(data=penguins, x='species', hue='island')\nplt.title(\"Distribuição de Espécies por Ilha\")\nplt.xlabel(\"Espécie\")\nplt.ylabel(\"Frequência\")\nplt.legend(title=\"Ilha\")\nplt.show()\nplt.close('all')\n```\n\n::: {.cell-output .cell-output-display}\n![](04-medidas-associacao-python_files/figure-html/cell-10-output-1.png){width=668 height=525}\n:::\n:::\n\n\n::: {.callout-note}\n**Interpretando a associação**:  \n- Se as proporções fossem similares em todas as categorias, não haveria associação  \n- Diferenças significativas nas proporções indicam possível associação  \n- No exemplo, vemos que diferentes espécies têm distribuições distintas entre as ilhas  \n:::\n\n## Associação entre Duas Variáveis Quantitativas\n\nPara variáveis quantitativas, utilizamos **correlação** e **covariância**.\n\n### Exemplo: Comprimento do Bico vs Massa Corporal\n\n::: {#c0c22bbe .cell execution_count=10}\n``` {.python .cell-code}\n# Gráfico de dispersão\nplt.figure(figsize=(10, 6))\nsns.scatterplot(\n    data=penguins,\n    x='bill_length_mm',\n    y='body_mass_g',\n    hue='species',\n    s=60\n)\nplt.title(\"Associação entre Comprimento do Bico e Massa Corporal\")\nplt.xlabel(\"Comprimento do Bico (mm)\")\nplt.ylabel(\"Massa Corporal (g)\")\nplt.show()\nplt.close('all')\n```\n\n::: {.cell-output .cell-output-display}\n![](04-medidas-associacao-python_files/figure-html/cell-11-output-1.png){width=825 height=524}\n:::\n:::\n\n\n### Covariância e Correlação\n\n::: {#0c51e7a0 .cell execution_count=11}\n``` {.python .cell-code}\n# Covariância\ncovariance = penguins[['bill_length_mm', 'body_mass_g']].cov()\nprint(\"Matriz de Covariância:\")\ncovariance\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nMatriz de Covariância:\n```\n:::\n\n::: {.cell-output .cell-output-display execution_count=11}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>bill_length_mm</th>\n      <th>body_mass_g</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>bill_length_mm</th>\n      <td>29.906333</td>\n      <td>2595.623304</td>\n    </tr>\n    <tr>\n      <th>body_mass_g</th>\n      <td>2595.623304</td>\n      <td>648372.487699</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: {#4b5d0d13 .cell execution_count=12}\n``` {.python .cell-code}\n# Correlação de Pearson\ncorrelation = penguins[['bill_length_mm', 'body_mass_g']].corr()\nprint(\"Matriz de Correlação:\")\ncorrelation\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nMatriz de Correlação:\n```\n:::\n\n::: {.cell-output .cell-output-display execution_count=12}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>bill_length_mm</th>\n      <th>body_mass_g</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>bill_length_mm</th>\n      <td>1.000000</td>\n      <td>0.589451</td>\n    </tr>\n    <tr>\n      <th>body_mass_g</th>\n      <td>0.589451</td>\n      <td>1.000000</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n### Entendendo a Correlação como Covariância Padronizada\n\n::: {#d3413ae0 .cell execution_count=13}\n``` {.python .cell-code}\n# Padronizando as variáveis (Z-score)\npenguins_padr = penguins[['bill_length_mm', 'body_mass_g']].copy()\npenguins_padr = (penguins_padr - penguins_padr.mean()) / penguins_padr.std()\n\nprint(\"Média das variáveis padronizadas:\", penguins_padr.mean().values)\nprint(\"Desvio padrão das variáveis padronizadas:\", penguins_padr.std().values)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nMédia das variáveis padronizadas: [-9.38855266e-16 -8.53504788e-17]\nDesvio padrão das variáveis padronizadas: [1. 1.]\n```\n:::\n:::\n\n\n::: {#a3e16ea7 .cell execution_count=14}\n``` {.python .cell-code}\n# A covariância de variáveis padronizadas = correlação\nprint(\"Covariância das variáveis padronizadas:\")\npenguins_padr.cov()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nCovariância das variáveis padronizadas:\n```\n:::\n\n::: {.cell-output .cell-output-display execution_count=14}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>bill_length_mm</th>\n      <th>body_mass_g</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>bill_length_mm</th>\n      <td>1.000000</td>\n      <td>0.589451</td>\n    </tr>\n    <tr>\n      <th>body_mass_g</th>\n      <td>0.589451</td>\n      <td>1.000000</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n## 3. Associação entre Variável Quantitativa e Qualitativa\n\n### Exemplo: Massa Corporal por Espécie\n\n::: {#488fbf23 .cell execution_count=15}\n``` {.python .cell-code}\n# Resumo descritivo por grupo\ngrouped_mass = penguins.groupby('species')['body_mass_g'].describe()\ngrouped_mass\n```\n\n::: {.cell-output .cell-output-display execution_count=15}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>count</th>\n      <th>mean</th>\n      <th>std</th>\n      <th>min</th>\n      <th>25%</th>\n      <th>50%</th>\n      <th>75%</th>\n      <th>max</th>\n    </tr>\n    <tr>\n      <th>species</th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>Adelie</th>\n      <td>146.0</td>\n      <td>3706.164384</td>\n      <td>458.620135</td>\n      <td>2850.0</td>\n      <td>3362.5</td>\n      <td>3700.0</td>\n      <td>4000.0</td>\n      <td>4775.0</td>\n    </tr>\n    <tr>\n      <th>Chinstrap</th>\n      <td>68.0</td>\n      <td>3733.088235</td>\n      <td>384.335081</td>\n      <td>2700.0</td>\n      <td>3487.5</td>\n      <td>3700.0</td>\n      <td>3950.0</td>\n      <td>4800.0</td>\n    </tr>\n    <tr>\n      <th>Gentoo</th>\n      <td>119.0</td>\n      <td>5092.436975</td>\n      <td>501.476154</td>\n      <td>3950.0</td>\n      <td>4700.0</td>\n      <td>5050.0</td>\n      <td>5500.0</td>\n      <td>6300.0</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: {#38426f01 .cell execution_count=16}\n``` {.python .cell-code}\n# Para outra variável\ngrouped_bill = penguins.groupby('species')['bill_length_mm'].describe()\ngrouped_bill\n```\n\n::: {.cell-output .cell-output-display execution_count=16}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>count</th>\n      <th>mean</th>\n      <th>std</th>\n      <th>min</th>\n      <th>25%</th>\n      <th>50%</th>\n      <th>75%</th>\n      <th>max</th>\n    </tr>\n    <tr>\n      <th>species</th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>Adelie</th>\n      <td>146.0</td>\n      <td>38.823973</td>\n      <td>2.662597</td>\n      <td>32.1</td>\n      <td>36.725</td>\n      <td>38.85</td>\n      <td>40.775</td>\n      <td>46.0</td>\n    </tr>\n    <tr>\n      <th>Chinstrap</th>\n      <td>68.0</td>\n      <td>48.833824</td>\n      <td>3.339256</td>\n      <td>40.9</td>\n      <td>46.350</td>\n      <td>49.55</td>\n      <td>51.075</td>\n      <td>58.0</td>\n    </tr>\n    <tr>\n      <th>Gentoo</th>\n      <td>119.0</td>\n      <td>47.568067</td>\n      <td>3.106116</td>\n      <td>40.9</td>\n      <td>45.350</td>\n      <td>47.40</td>\n      <td>49.600</td>\n      <td>59.6</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n### Visualização: Boxplot por Grupos\n\n::: {#472432df .cell execution_count=17}\n``` {.python .cell-code}\nplt.figure(figsize=(10, 6))\nsns.boxplot(x='species', y='body_mass_g', data=penguins)\nplt.title(\"Distribuição da Massa Corporal por Espécie\")\nplt.xlabel(\"Espécie\")\nplt.ylabel(\"Massa Corporal (g)\")\nplt.show()\nplt.close('all')\n```\n\n::: {.cell-output .cell-output-display}\n![](04-medidas-associacao-python_files/figure-html/cell-18-output-1.png){width=825 height=525}\n:::\n:::\n\n\n### Gráfico de Médias com Barras de Erro\n\n::: {#7fe93f23 .cell execution_count=18}\n``` {.python .cell-code}\nplt.figure(figsize=(10, 6))\nsns.pointplot(\n    data=penguins,\n    x='species',\n    y='body_mass_g',\n    capsize=0.1,\n    color='black',\n    errorbar='sd'\n)\nplt.title(\"Média e Desvio Padrão da Massa Corporal por Espécie\")\nplt.xlabel(\"Espécie\")\nplt.ylabel(\"Massa Corporal (g)\")\nplt.show()\nplt.close('all')\n```\n\n::: {.cell-output .cell-output-display}\n![](04-medidas-associacao-python_files/figure-html/cell-19-output-1.png){width=825 height=525}\n:::\n:::\n\n\n::: {.callout-note}  \n**Interpretando boxplots por grupos**:  \n- **Medianas diferentes**: Indica diferenças entre os grupos  \n- **Sobreposição das caixas**: Grupos com distribuições similares  \n- **Outliers**: Valores atípicos em cada grupo  \n:::\n\n## Análises Multivariadas\n\n### Scatter Plot com Múltiplas Dimensões\n\n::: {#f0d728bf .cell execution_count=19}\n``` {.python .cell-code}\nplt.figure(figsize=(10, 6))\nsns.scatterplot(\n    data=penguins,\n    x='bill_length_mm',\n    y='body_mass_g',\n    hue='species',\n    size='flipper_length_mm',\n    sizes=(50, 200)\n)\nplt.title(\"Massa Corporal vs Comprimento do Bico (tamanho = comprimento da nadadeira)\")\nplt.xlabel(\"Comprimento do Bico (mm)\")\nplt.ylabel(\"Massa Corporal (g)\")\nplt.show()\nplt.close('all')\n```\n\n::: {.cell-output .cell-output-display}\n![](04-medidas-associacao-python_files/figure-html/cell-20-output-1.png){width=825 height=523}\n:::\n:::\n\n\n### Regressão Linear por Grupos\n\n::: {#93921db9 .cell execution_count=20}\n``` {.python .cell-code}\nsns.lmplot(\n    data=penguins,\n    x='bill_length_mm',\n    y='body_mass_g',\n    hue='species',\n    height=6,\n    aspect=1.2,\n    markers=['o', 's', 'D'],\n    ci=None\n)\nplt.title(\"Regressão Linear: Massa Corporal vs Comprimento do Bico por Espécie\")\nplt.show()\nplt.close('all')\n```\n\n::: {.cell-output .cell-output-display}\n![](04-medidas-associacao-python_files/figure-html/cell-21-output-1.png){width=790 height=587}\n:::\n:::\n\n\n### Pairplot: Todas as Combinações de Variáveis\n\n::: {#790633eb .cell execution_count=21}\n``` {.python .cell-code}\n# Matriz de gráficos de dispersão\nsns.pairplot(\n    data=penguins,\n    vars=['bill_length_mm', 'bill_depth_mm', 'flipper_length_mm', 'body_mass_g'],\n    hue='species',\n    diag_kind='kde',\n    height=2.5\n)\nplt.show()\nplt.close('all')\n```\n\n::: {.cell-output .cell-output-display}\n![](04-medidas-associacao-python_files/figure-html/cell-22-output-1.png){width=1068 height=947}\n:::\n:::\n\n\n### Matriz de Correlação Completa\n\n::: {#5161f616 .cell execution_count=22}\n``` {.python .cell-code}\n# Calcular correlações para todas as variáveis numéricas\nnumeric_vars = ['bill_length_mm', 'bill_depth_mm', 'flipper_length_mm', 'body_mass_g']\ncorrelation_matrix = penguins[numeric_vars].corr()\n\n# Heatmap da matriz de correlação\nplt.figure(figsize=(8, 6))\nsns.heatmap(\n    correlation_matrix,\n    annot=True,\n    cmap='coolwarm',\n    center=0,\n    square=True,\n    fmt='.2f'\n)\nplt.title(\"Matriz de Correlação das Variáveis Quantitativas\")\nplt.tight_layout()\nplt.show()\nplt.close('all')\n```\n\n::: {.cell-output .cell-output-display}\n![](04-medidas-associacao-python_files/figure-html/cell-23-output-1.png){width=637 height=565}\n:::\n:::\n\n\n## Exemplos Adicionais de Visualização\n\n### Comprimento da Nadadeira vs Massa Corporal\n\n::: {#082a63f4 .cell execution_count=23}\n``` {.python .cell-code}\nsns.lmplot(\n    data=penguins,\n    x='flipper_length_mm',\n    y='body_mass_g',\n    hue='species',\n    height=6,\n    aspect=1.2,\n    markers=['o', 's', 'D'],\n    ci=None\n)\nplt.title(\"Massa Corporal vs Comprimento da Nadadeira por Espécie\")\nplt.show()\nplt.close('all')\n```\n\n::: {.cell-output .cell-output-display}\n![](04-medidas-associacao-python_files/figure-html/cell-24-output-1.png){width=790 height=587}\n:::\n:::\n\n\n### Altura vs Comprimento do Bico\n\n::: {#e1bf456c .cell execution_count=24}\n``` {.python .cell-code}\nsns.lmplot(\n    data=penguins,\n    x='bill_depth_mm',\n    y='bill_length_mm',\n    hue='species',\n    height=6,\n    aspect=1.2,\n    markers=['o', 's', 'D'],\n    ci=None\n)\nplt.title(\"Comprimento vs Altura do Bico por Espécie\")\nplt.show()\nplt.close('all')\n```\n\n::: {.cell-output .cell-output-display}\n![](04-medidas-associacao-python_files/figure-html/cell-25-output-1.png){width=792 height=587}\n:::\n:::\n\n\n## Resumo dos Tipos de Associação\n\n| **Tipos de Variáveis** | **Medidas** | **Visualizações** |\n|-------------------------|-------------|-------------------|\n| **Qualitativa vs Qualitativa** | Tabelas de contingência, frequências relativas | Barras agrupadas, countplot |\n| **Quantitativa vs Quantitativa** | Correlação, covariância | Scatter plot, pairplot |\n| **Quantitativa vs Qualitativa** | Estatísticas por grupo (média, mediana) | Boxplot, pointplot |\n| **Multivariada** | Correlações múltiplas | Pairplot, heatmap, lmplot |\n\n## Dicas Práticas\n\n### Escolhendo a visualização adequada\n\n::: {#f2a45692 .cell execution_count=25}\n``` {.python .cell-code}\n# Para escolher o gráfico certo, considere:\nprint(\"Tipos de dados:\")\nprint(penguins.dtypes)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nTipos de dados:\nspecies               object\nisland                object\nbill_length_mm       float64\nbill_depth_mm        float64\nflipper_length_mm    float64\nbody_mass_g          float64\nsex                   object\nyear                   int64\ndtype: object\n```\n:::\n:::\n\n\n### Identificando correlações interessantes\n\n::: {#03114357 .cell execution_count=26}\n``` {.python .cell-code}\n# Encontrar as maiores correlações\ncorr_matrix = penguins[numeric_vars].corr()\n# Remover a diagonal (correlação de uma variável consigo mesma)\ncorr_matrix_clean = corr_matrix.where(np.triu(np.ones(corr_matrix.shape), k=1).astype(bool))\n\n# Empilhar e ordenar por valor absoluto\ncorrelations = corr_matrix_clean.stack().sort_values(key=abs, ascending=False)\nprint(\"Correlações mais fortes:\")\ncorrelations.head()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nCorrelações mais fortes:\n```\n:::\n\n::: {.cell-output .cell-output-display execution_count=26}\n```\nflipper_length_mm  body_mass_g          0.872979\nbill_length_mm     flipper_length_mm    0.653096\n                   body_mass_g          0.589451\nbill_depth_mm      flipper_length_mm   -0.577792\n                   body_mass_g         -0.472016\ndtype: float64\n```\n:::\n:::\n\n\n",
    "supporting": [
      "04-medidas-associacao-python_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\" data-relocate-top=\"true\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}