{
  "hash": "e84b0e9c119b14e275049e90c1260e38",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Medidas de posição: quartis\"\ndescription: \"Cálculo e interpretação de quartis para análise de distribuição, ressaltando faixas de variação e valores atípicos.\"\ncategories: [\n          \"R\",\n          \"Análise de dados\",\n          \"Estatística descritiva\",\n          \"Variabilidade de dados\",\n          \"Análise de dispersão\"\n        ]\n\nimage: \"images/quartis-logo.jpg\"\nexecute:\n  echo: true\n  warning: false\n  include: true\n  message: false\nformat:\n  html:\n    code-fold: false\n---\n\n\n\n\n:::{.callout-tip collapse=\"true\"}\n## Pacotes e funções utilizados\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(gt)\nlibrary(patchwork)\nsource('scripts/assimetria-ggplot.r')\n```\n:::\n\n\n\n:::\n\nA média, mediana, moda e ponto médio são um tipo de **medidas de posição** que indicam uma posição particular, isto é, a posição central ao redor da qual os dados estão dispersos. Existem, no entanto, outras medidas de posição como **quartis**, comumente utilizadas na descrição, análise e interpretação de dados.\n\nOs quartis de uma distribuição de valores são obtidos após ordenarmos os dados em ordem crescente e, em seguida, agrupá-los em partes iguais, contendo cada uma 25% do número total de observações. Se temos 20 observações, cada parte conterá, portanto, cinco observações, $20 \\times 0.25 = 5$. Os quartis são as posições numéricas que dividem estas partes.\n\nOs quartis podem ser indicados por $Q_1$, $Q_2$ e $Q_3$, conforme a figura abaixo.\n\n::: {#fig-quartis}\n\n![](images/quartis.png)\n\nDivisão de uma distribuição de valores em quartis.\n:::\n\n:::{.callout-note}\n## Quartis\n\n$Q_{1}$: O ponto que separa os 25% **menores** valores do restante da distribuição.\n\n$Q_{2}$: O ponto que separa os 50% **menores** valores dos 50% **maiores**. Este coincide com a Mediana apresentada anteriormente.\n\n$Q_{3}$: O ponto que separa os 25% **maiores** valores do restante da distribuição.\n\n:::\n\nOs quartis que veremos aqui são medidas **empíricas** dos limites indicados na figura acima. Calculamos estes limites a partir de uma amostra de tamanho $n$.\n\n## Cálculo dos quartis na posição $j$\n\nExistem diferentes algoritmos possíveis para o cálculo dos quartis. Veremos um deles. Para isso, siga os passos abaixo:\n\n1. Reorganize $X$ em ordem crescente de $k = 1$ a $k = n$. Seja $n$ o número de observações em $X$, teremos, portanto, $X_k$ como o valor observado na posição $k$ em ordem crescente. Deste modo, para $k = 1$, teremos $X_1$ como o menor valor, e para $k = n$, teremos $X_n$ como o maior valor.\n\n2. Calcule \n\n$$L = \\frac{j \\times (n+1)}{4};$$\n\n3. Defina $k$ como o maior número inteiro **abaixo** de $L$;\n\n4. Calcule \n\n$$Q_j = X_k + (L - k) \\times (X_{k+1}-X_k);$$\n\n5. $Q_j$ será um elemento entre $X_k$ e $X_{k+1}$. Se $X_k$ for um número inteiro, $Q_j = X_k$.\n\n**Exemplo para o cálculo de $Q_1$**\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(1)\nX <- round(rnorm(20, 10, 2), 1)\nnX <- length(X)\n```\n:::\n\n\n\n\nConsidere a variável $X$ com $n =$ 20 observações.\n\n$X$ = 8.7, 10.4, 8.3, 13.2, 10.7, 8.4, 11, 11.5, 11.2, 9.4, 13, 10.8, 8.8, 5.6, 12.2, 9.9, 10, 11.9, 11.6, 11.2 \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsX <- sort(X)\n\nj1 <- 1\nL1 <- j1 * (nX + 1) / 4\nk1 <- floor(L1)\nQ1 <- sX[k1] + (L1 - k1) * (sX[k1+1] - sX[k1])\n\nj2 <- 2\nL2 <- j2 * (nX + 1) / 4\nk2 <- floor(L2)\nQ2 <- sX[k2] + (L2 - k2) * (sX[k2+1] - sX[k2])\n\nj3 <- 3\nL3 <- j3 * (nX + 1) / 4\nk3 <- floor(L3)\nQ3 <- sX[k3] + (L3 - k3) * (sX[k3+1] - sX[k3])\n```\n:::\n\n\n\n\n1. Organize em ordem **crescente** para determinar os valores de $X$ nas posições $k$.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nPosicao_k <- paste(1:length(X), \"a Posição\", sep = \"\")\ndf <- tibble(`Posição k` = Posicao_k, `X ordenado` = sX)\n\ndf |> \n  gt()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"jfottzlywf\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#jfottzlywf table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#jfottzlywf thead, #jfottzlywf tbody, #jfottzlywf tfoot, #jfottzlywf tr, #jfottzlywf td, #jfottzlywf th {\n  border-style: none;\n}\n\n#jfottzlywf p {\n  margin: 0;\n  padding: 0;\n}\n\n#jfottzlywf .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#jfottzlywf .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#jfottzlywf .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#jfottzlywf .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#jfottzlywf .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#jfottzlywf .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jfottzlywf .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#jfottzlywf .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#jfottzlywf .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#jfottzlywf .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#jfottzlywf .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#jfottzlywf .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#jfottzlywf .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#jfottzlywf .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#jfottzlywf .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#jfottzlywf .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#jfottzlywf .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#jfottzlywf .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#jfottzlywf .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jfottzlywf .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#jfottzlywf .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#jfottzlywf .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#jfottzlywf .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jfottzlywf .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#jfottzlywf .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#jfottzlywf .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jfottzlywf .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jfottzlywf .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#jfottzlywf .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jfottzlywf .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#jfottzlywf .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jfottzlywf .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#jfottzlywf .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jfottzlywf .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#jfottzlywf .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jfottzlywf .gt_left {\n  text-align: left;\n}\n\n#jfottzlywf .gt_center {\n  text-align: center;\n}\n\n#jfottzlywf .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#jfottzlywf .gt_font_normal {\n  font-weight: normal;\n}\n\n#jfottzlywf .gt_font_bold {\n  font-weight: bold;\n}\n\n#jfottzlywf .gt_font_italic {\n  font-style: italic;\n}\n\n#jfottzlywf .gt_super {\n  font-size: 65%;\n}\n\n#jfottzlywf .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#jfottzlywf .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#jfottzlywf .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#jfottzlywf .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#jfottzlywf .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#jfottzlywf .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#jfottzlywf .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#jfottzlywf .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#jfottzlywf div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Posição-k\">Posição k</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"X-ordenado\">X ordenado</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Posição k\" class=\"gt_row gt_left\">1a Posição</td>\n<td headers=\"X ordenado\" class=\"gt_row gt_right\">5.6</td></tr>\n    <tr><td headers=\"Posição k\" class=\"gt_row gt_left\">2a Posição</td>\n<td headers=\"X ordenado\" class=\"gt_row gt_right\">8.3</td></tr>\n    <tr><td headers=\"Posição k\" class=\"gt_row gt_left\">3a Posição</td>\n<td headers=\"X ordenado\" class=\"gt_row gt_right\">8.4</td></tr>\n    <tr><td headers=\"Posição k\" class=\"gt_row gt_left\">4a Posição</td>\n<td headers=\"X ordenado\" class=\"gt_row gt_right\">8.7</td></tr>\n    <tr><td headers=\"Posição k\" class=\"gt_row gt_left\">5a Posição</td>\n<td headers=\"X ordenado\" class=\"gt_row gt_right\">8.8</td></tr>\n    <tr><td headers=\"Posição k\" class=\"gt_row gt_left\">6a Posição</td>\n<td headers=\"X ordenado\" class=\"gt_row gt_right\">9.4</td></tr>\n    <tr><td headers=\"Posição k\" class=\"gt_row gt_left\">7a Posição</td>\n<td headers=\"X ordenado\" class=\"gt_row gt_right\">9.9</td></tr>\n    <tr><td headers=\"Posição k\" class=\"gt_row gt_left\">8a Posição</td>\n<td headers=\"X ordenado\" class=\"gt_row gt_right\">10.0</td></tr>\n    <tr><td headers=\"Posição k\" class=\"gt_row gt_left\">9a Posição</td>\n<td headers=\"X ordenado\" class=\"gt_row gt_right\">10.4</td></tr>\n    <tr><td headers=\"Posição k\" class=\"gt_row gt_left\">10a Posição</td>\n<td headers=\"X ordenado\" class=\"gt_row gt_right\">10.7</td></tr>\n    <tr><td headers=\"Posição k\" class=\"gt_row gt_left\">11a Posição</td>\n<td headers=\"X ordenado\" class=\"gt_row gt_right\">10.8</td></tr>\n    <tr><td headers=\"Posição k\" class=\"gt_row gt_left\">12a Posição</td>\n<td headers=\"X ordenado\" class=\"gt_row gt_right\">11.0</td></tr>\n    <tr><td headers=\"Posição k\" class=\"gt_row gt_left\">13a Posição</td>\n<td headers=\"X ordenado\" class=\"gt_row gt_right\">11.2</td></tr>\n    <tr><td headers=\"Posição k\" class=\"gt_row gt_left\">14a Posição</td>\n<td headers=\"X ordenado\" class=\"gt_row gt_right\">11.2</td></tr>\n    <tr><td headers=\"Posição k\" class=\"gt_row gt_left\">15a Posição</td>\n<td headers=\"X ordenado\" class=\"gt_row gt_right\">11.5</td></tr>\n    <tr><td headers=\"Posição k\" class=\"gt_row gt_left\">16a Posição</td>\n<td headers=\"X ordenado\" class=\"gt_row gt_right\">11.6</td></tr>\n    <tr><td headers=\"Posição k\" class=\"gt_row gt_left\">17a Posição</td>\n<td headers=\"X ordenado\" class=\"gt_row gt_right\">11.9</td></tr>\n    <tr><td headers=\"Posição k\" class=\"gt_row gt_left\">18a Posição</td>\n<td headers=\"X ordenado\" class=\"gt_row gt_right\">12.2</td></tr>\n    <tr><td headers=\"Posição k\" class=\"gt_row gt_left\">19a Posição</td>\n<td headers=\"X ordenado\" class=\"gt_row gt_right\">13.0</td></tr>\n    <tr><td headers=\"Posição k\" class=\"gt_row gt_left\">20a Posição</td>\n<td headers=\"X ordenado\" class=\"gt_row gt_right\">13.2</td></tr>\n  </tbody>\n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n\n2. Para $j = 1$ ($Q_1$), calcule:\n\n$L = \\frac{1 \\times (20+1)}{4} = 5.25$;\n\n3. Defina $k$ como o maior número inteiro abaixo de $L$. Portanto, se $L = 5.25$, $k = 5$.\n\n4. Note que a observação correspondente à $k = 5$ (5$^a$ posição) é 8.8, enquanto a observação correspondente à $k = 6$ (6$^a$ posição) é 9.4. Deste modo, calcule \n\n$Q_1 = 8.8 + (5.25 - 5) \\times (9.4 - 8.8) = 8.95$.\n\nVemos então que, para a variável $X$ em questão, o primeiro quartil é:\n\n$Q_1 = 8.95$\n\n**Exercício**: Calcule agora os valores correspondentes a $Q_2$ e $Q_3$ e verifique que os resultados são: $Q_2 = 10.75$ e $Q_3 = 11.575$.\n\n## Cálculo dos quartis no R\n\nPodemos programar a sequência de funções acima utilizando o R:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nX <- c(8.7, 10.4, 8.3, 13.2, 10.7, 8.4, 11, 11.5, 11.2, 9.4, \n       13, 10.8, 8.8, 5.6, 12.2, 9.9, 10, 11.9, 11.6, 11.2)\n\n# Ordenando X em ordem crescente\nsX <- sort(X, decreasing = FALSE)\n# Encontrando o número de observações em X\nn <- length(X) \n# Encontrando os quartis (Q1, Q2 e Q3)\nj <- c(1, 2, 3)\nL <- j * (n + 1) / 4\nk <- floor(L)\nQ <- sX[k] + (L - k) * (sX[k+1] - sX[k])\nnames(Q) <- c('Q1', 'Q2', 'Q3')\n\n# Visualizando os quartis\nQ\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n    Q1     Q2     Q3 \n 8.950 10.750 11.575 \n```\n\n\n:::\n:::\n\n\n\n\nEntretanto, existe uma função no R denominada `quantile`, que pode ser utilizada da seguinte forma:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nquantile(X, probs = c(0.25, 0.50, 0.75))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   25%    50%    75% \n 9.250 10.750 11.525 \n```\n\n\n:::\n:::\n\n\n\n\n:::{.callout-note}\n## Observações\n\n+ Lembre que o quartil $Q_1$ delimita a posição $25\\%$, $Q_2$ delimita a posição $50\\%$ ($=$ mediana) e $Q_3$ delimita a posição $75\\%$. Por este motivo, utilizamos o argumento `probs = c(0.25, 0.50, 0.75)`. Assim, a função `quantile` é mais geral que a rotina passada anteriormente, pois permite o cálculo para qualquer posição entre os **quantis** $0\\%$ e $100\\%$.\n\n+ Note também que os resultados foram *ligeiramente* diferentes, uma vez que existem diferentes algoritmos para o cálculo dos quartis. A função `quantile` permite a escolha entre $9$ algoritmos diferentes e, por padrão, utiliza o `type = 7`. O passo-a-passo que mostramos corresponde ao `type = 6`. Você pode verificar que, ao digitar o comando abaixo, os resultados serão os mesmos que calculamos manualmente.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nquantile(X, probs = c(0.25, 0.50, 0.75), type = 6)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   25%    50%    75% \n 8.950 10.750 11.575 \n```\n\n\n:::\n:::\n\n\n\n\n+ Essas diferenças diminuem à medida que o tamanho amostral aumenta.\n\n+ Finalmente, os quartis discutidos aqui são casos particulares de limites mais gerais denominados **quantis**, que indicam uma posição específica na distribuição. Por exemplo, o limite $Q_1$ poderia ser chamado de **Quantil** $0,25$. Assim, podemos encontrar qualquer posição, como o quantil $0,10$ que delimita os $10\\%$ menores valores.\n\n+ No cálculo dos quantis para um limite $p$ qualquer ($0 \\le p \\le 1$), a única mudança no algoritmo apresentado está na obtenção de $L$ (passo 2), que é feita como:\n\n$$L = p \\times (n+1)$$\n\n:::\n\n## Obtendo os quartis a partir de uma tabela de dados \n\nImporte a base de dados `Reservatorios_Parana_parcial.csv`.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nres <- read_delim(\n  file = \"https://raw.githubusercontent.com/FCopf/datasets/refs/heads/main/Reservatorios_Parana_parcial.csv\",\n  delim = \",\",\n  locale = locale(decimal_mark = \".\", encoding = \"latin1\")\n)\n```\n:::\n\n\n\n\nUsaremos a função `summarise` para obter os quartis para a variável `CPUE`.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nres |> \n  reframe(Quartis = quantile(CPUE, probs = c(0.25, 0.50, 0.75)),\n          Limites = c('25%', '50%', '75%')) |> \n  gt()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"yhlywxfzgs\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#yhlywxfzgs table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#yhlywxfzgs thead, #yhlywxfzgs tbody, #yhlywxfzgs tfoot, #yhlywxfzgs tr, #yhlywxfzgs td, #yhlywxfzgs th {\n  border-style: none;\n}\n\n#yhlywxfzgs p {\n  margin: 0;\n  padding: 0;\n}\n\n#yhlywxfzgs .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#yhlywxfzgs .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#yhlywxfzgs .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#yhlywxfzgs .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#yhlywxfzgs .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#yhlywxfzgs .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#yhlywxfzgs .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#yhlywxfzgs .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#yhlywxfzgs .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#yhlywxfzgs .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#yhlywxfzgs .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#yhlywxfzgs .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#yhlywxfzgs .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#yhlywxfzgs .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#yhlywxfzgs .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#yhlywxfzgs .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#yhlywxfzgs .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#yhlywxfzgs .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#yhlywxfzgs .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#yhlywxfzgs .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#yhlywxfzgs .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#yhlywxfzgs .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#yhlywxfzgs .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#yhlywxfzgs .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#yhlywxfzgs .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#yhlywxfzgs .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#yhlywxfzgs .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#yhlywxfzgs .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#yhlywxfzgs .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#yhlywxfzgs .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#yhlywxfzgs .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#yhlywxfzgs .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#yhlywxfzgs .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#yhlywxfzgs .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#yhlywxfzgs .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#yhlywxfzgs .gt_left {\n  text-align: left;\n}\n\n#yhlywxfzgs .gt_center {\n  text-align: center;\n}\n\n#yhlywxfzgs .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#yhlywxfzgs .gt_font_normal {\n  font-weight: normal;\n}\n\n#yhlywxfzgs .gt_font_bold {\n  font-weight: bold;\n}\n\n#yhlywxfzgs .gt_font_italic {\n  font-style: italic;\n}\n\n#yhlywxfzgs .gt_super {\n  font-size: 65%;\n}\n\n#yhlywxfzgs .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#yhlywxfzgs .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#yhlywxfzgs .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#yhlywxfzgs .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#yhlywxfzgs .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#yhlywxfzgs .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#yhlywxfzgs .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#yhlywxfzgs .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#yhlywxfzgs div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Quartis\">Quartis</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Limites\">Limites</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Quartis\" class=\"gt_row gt_right\">7.43</td>\n<td headers=\"Limites\" class=\"gt_row gt_right\">25%</td></tr>\n    <tr><td headers=\"Quartis\" class=\"gt_row gt_right\">11.74</td>\n<td headers=\"Limites\" class=\"gt_row gt_right\">50%</td></tr>\n    <tr><td headers=\"Quartis\" class=\"gt_row gt_right\">16.30</td>\n<td headers=\"Limites\" class=\"gt_row gt_right\">75%</td></tr>\n  </tbody>\n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n\n## Boxplots: uma representação gráfica dos quartis\n\nOs quartis de uma distribuição nos ajudam a entender o formato de uma distribuição. Uma das formas amplamente estabelecidas de representá-los graficamente é por meio de um **boxplot**. Para a variável acima, o boxplot será:\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\ndf <- data.frame(X)\nPX <- quantile(X, probs = c(0, 0.25, 0.50, 0.75, 1))\nLegX <- c(\"Mínimo\", \"Q1\", \"Q2 = Mediana\", \"Q3\", \"Máximo\")\nggplot(df, aes(y = X)) +\n  geom_boxplot(fill = 'lightblue', coef = 10) +\n  annotate(geom = 'text', x = .8, y = PX - 0.3,\n           label = LegX) +\n  annotate(geom = 'segment', \n           x = 0.5, xend = 1.23,\n           y = PX, yend = PX,\n           arrow = arrow(ends = 'first')) +\n  scale_y_continuous(breaks = 5:14) +\n  theme_classic() +\n  theme(axis.title = element_blank(),\n        axis.text.x = element_blank(),\n        axis.ticks.x = element_blank())\n```\n\n::: {.cell-output-display}\n![Divisão em quartis de um boxplot](quartis_files/figure-html/fig-boxplot-1.png){#fig-boxplot fig-align='center' width=384}\n:::\n:::\n\n\n\n\nEm um boxplot, a linha central representa a **Mediana** ou $2^o$ quartil ($Q_2$), e os limites da caixa são o $1^o$ e $3^o$ quartis, respectivamente $Q_1$ e $Q_3$. As extremidades geralmente são os pontos máximo e mínimo da distribuição.\n\nExiste uma relação entre os **histogramas** e os **boxplots**. Ambos podem ser utilizados para avaliar o grau de **assimetria** de uma distribuição, como apresentado abaixo. Em uma distribuição simétrica, a caixa do boxplot tende a se concentrar no meio da distribuição. Já em distribuições assimétricas, a caixa tende a ficar deslocada à esquerda ou à direita (@fig-assimetria-box).\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n# Ver função completa no arquivo 'scripts/assimetria-ggplot.r'\nassimetria_ggplot(fig = 'bh')\n```\n\n::: {.cell-output-display}\n![Padrão de assimetria representado por meio de histogramas e boxplots.](quartis_files/figure-html/fig-assimetria-box-1.png){#fig-assimetria-box fig-align='center' width=768}\n:::\n:::",
    "supporting": [
      "quartis_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}